jQuery(function(a){function e(a,e,i){var t=0;!function c(){!1!==a(t)&&++t<e&&setTimeout(c,i)}()}function i(e,i){var t=a(".vacancies_filter li.uk-active").data("tag-slug"),c=a(".vacancies_sort select").val(),l=a("#page").val(),n=a("#per_page").val(),s=(a("#max-pages").val(),a("#pageID").val()),o=a("#no_items").val(),r=a("#load_text").val(),v=[e.serialize(),a.param({tag:t}),a.param({sort:c}),a.param({page:l}),a.param({per_page:n}),a.param({pageID:s}),a.param({no_items:o})].join("&");if("load_more"==i)var f=(p=a(".vacancies_load a")).attr("data-value");else{var p;f=(p=e.find('input[type="submit"]')).val()}a.ajax({url:"/wp-admin/admin-ajax.php?action=vacancies_filter",data:v,type:"POST",dataType:"json",beforeSend:function(a){"load_more"==i?p.text(r):p.val(r)},success:function(t){t&&("load_more"==i?a("#response").append(t.html):a("#response").html(t.html),console.log(f),"load_more"==i?p.text(f):p.val(f),a(".post__count span").html(t.post_count),t.max_pages&&1!=t.max_pages&&t.max_pages!=l?a(".vacancies_load").show():a(".vacancies_load").hide(),a(".pagination").html(t.navi),a("#max-pages").val(t.max_pages),a(".filter_applied").html(""),a(e).find(".filter_list_items input").each(function(){if(a(this).is(":checked")){a(".clear_filters").show();var e=a(this).attr("name"),i=a(this).val(),t=a(this).parent("label").text(),c="",l=a("#term").val();a(this).val()!=l?(c+='<a href="#" class="filter_close" data-filter-type='+(e=e.replace(/[[]]/gm,"_")+"filter")+' data-filter-val="'+i+'">',c+="<span>"+t+"</span>",c+="</a>"):(c+='<a href="#" class="filter_close fixed">',c+="<span>"+t+"</span>",c+="</a>"),a(".filter_applied").append(c)}}),i&&"load_more"==i||a("body,html").animate({scrollTop:a("#response").offset().top-120},600),a(".uk-offcanvas-close").trigger("click"))}})}a('.dekstop-filter input[type="checkbox"]').on("click",function(){var e=a(this).parents("form"),i=!1;e.find('input[type="checkbox"]').each(function(){a(this).is(":checked")&&(i=!0)}),i?e.addClass("active"):e.removeClass("active")}),a(".filter-toggle, .tab_bar_item").on("click",function(){if(a("#filter_mobile").is(":visible")){var e=!1,i=a(".vacancies-filter.mobile-filter");i.find('input[type="checkbox"]').each(function(){a(this).is(":checked")&&(e=!0)}),e?i.addClass("active"):i.removeClass("active"),a(".vacancies-filter.dekstop-filter").removeClass("active")}}),a("body").on("submit",".vacancies-filter.active",function(){return a("#page").val(1),i(a(this)),!1}),a(".vacancies_filter li").on("click",function(){a("#page").val(1),a(".vacancies_filter li").removeClass("uk-active"),a(this).addClass("uk-active"),setTimeout(function(){i(a("body").find(".vacancies-filter.active"))},100)}),a(".vacancies_sort select").on("change",function(){a("#page").val(1),i(a("body").find(".vacancies-filter.active"))}),a("body").on("click",".filter_applied .filter_close:not(.fixed)",function(){a("#page").val(1);var e=a(this).data("filter-type"),t=a(this).data("filter-val"),c=a("body").find(".vacancies-filter.active");a(c).find(".filter_list_items."+e+" input").each(function(){a(this).val()==t&&a(this).prop("checked",!1)}),a(this).remove(),i(c);var l=!0;a(c).find(".filter_list_items input").each(function(){a(this).is(":checked")&&(l=!1)}),l&&a(".clear_filters").hide()}),a(".clear_filters").on("click",function(){var e=a("#term").val();a("#page").val(1),a(".vacancies-filter.active").find('input[type="checkbox"]').each(function(){e!=a(this).val()&&a(this).prop("checked",!1)}),i(a("body").find(".vacancies-filter.active")),a(".vacancies-filter").removeClass("active"),a(this).hide()}),a(".vacancies_load").on("click",function(e){var t=Number(a("#page").val());a("#page").val(t+1),i(a("body").find(".vacancies-filter.active"),"load_more")}),a("body").on("click","a.page-numbers",function(t){t.preventDefault();var c=a(this).attr("href"),l=1,n="",s=(a("#per_page").val(),Number(a("#page").val()));(n=c.split("page/")[1])&&(l=Number(n.split("/")[0]));var o=a("body").find(".vacancies-filter.active");if(1==l)a("#page").val(l),setTimeout(function(){i(o)},100);else if(l>s){e(function(e){s++,a("#page").val(s),i(o,"load_more")},l-s,200)}else{var r=0;e(function(e){r++,a("#page").val(r),1==r?i(o):i(o,"load_more")},l,200)}})});